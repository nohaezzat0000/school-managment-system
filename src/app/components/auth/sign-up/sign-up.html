<p-toast></p-toast>

<div class="min-h-screen flex align-items-center justify-content-center surface-50 py-6 px-3 sm:px-4 lg:px-5">
  <div class="w-full max-w-md">

    <div class="text-center mb-5">
      <h2 class="text-3xl font-bold text-900 mb-2">Sign Up</h2>
      <p class="text-600">Create your account</p>
    </div>

    <div class="surface-card py-5 px-4 shadow-1 border-round border-1 surface-border">
      <form [formGroup]="signUpForm" (ngSubmit)="onSignUp()" class="flex flex-column gap-4">

        <!-- Username -->
        <div class="field">
          <label class="block text-sm font-medium text-700 mb-2">Username</label>
          <input pInputText formControlName="username" placeholder="Enter username" class="w-full" />
          <small *ngIf="signUpForm.get('username')?.touched && signUpForm.get('username')?.invalid" class="text-red-500">
            Username is required
          </small>
        </div>

        <!-- First Name -->
        <div class="field">
          <label class="block text-sm font-medium text-700 mb-2">First Name</label>
          <input pInputText formControlName="firstName" placeholder="Enter first name" class="w-full" />
          <small *ngIf="signUpForm.get('firstName')?.touched && signUpForm.get('firstName')?.invalid" class="text-red-500">
            First name is required
          </small>
        </div>

        <!-- Last Name -->
        <div class="field">
          <label class="block text-sm font-medium text-700 mb-2">Last Name</label>
          <input pInputText formControlName="lastName" placeholder="Enter last name" class="w-full" />
          <small *ngIf="signUpForm.get('lastName')?.touched && signUpForm.get('lastName')?.invalid" class="text-red-500">
            Last name is required
          </small>
        </div>

        <!-- Date of Birth -->
        <div class="field">
          <label class="block text-sm font-medium text-700 mb-2">Date of Birth</label>
          <p-datepicker formControlName="dateOfBirth" inputClass="w-full" placeholder="Select date of birth" showIcon />
          <small *ngIf="signUpForm.get('dateOfBirth')?.touched && signUpForm.get('dateOfBirth')?.invalid" class="text-red-500">
            Date of birth is required
          </small>
        </div>

        <!-- Email -->
        <div class="field">
          <label class="block text-sm font-medium text-700 mb-2">Email</label>
          <input pInputText formControlName="email" type="email" placeholder="Enter email" class="w-full" />
          <small *ngIf="signUpForm.get('email')?.touched && signUpForm.get('email')?.invalid" class="text-red-500">
            Valid email is required
          </small>
        </div>

        <!-- Phone Number -->
        <div class="field">
          <label class="block text-sm font-medium text-700 mb-2">Phone Number</label>
          <input pInputText formControlName="phoneNumber" placeholder="Enter phone number" class="w-full" />
          <small *ngIf="signUpForm.get('phoneNumber')?.touched && signUpForm.get('phoneNumber')?.invalid" class="text-red-500">
            Phone number is required (numbers only)
          </small>
        </div>

        <!-- Password -->
        <div class="field">
          <label class="block text-sm font-medium text-700 mb-2">Password</label>
          <input pInputText type="password" formControlName="password" placeholder="Enter password" class="w-full" />
          <small *ngIf="signUpForm.get('password')?.touched && signUpForm.get('password')?.invalid" class="text-red-500">
            Password must be at least 6 characters
          </small>
        </div>

        <!-- Confirm Password -->
        <div class="field">
          <label class="block text-sm font-medium text-700 mb-2">Confirm Password</label>
          <input pInputText type="password" formControlName="confirmPassword" placeholder="Confirm password" class="w-full" />
          <small *ngIf="signUpForm.get('confirmPassword')?.touched && signUpForm.get('confirmPassword')?.invalid || passwordMismatch" class="text-red-500">
            {{ passwordMismatch ? 'Passwords do not match' : 'Please confirm your password' }}
          </small>
        </div>

        <!-- Submit Button -->
        <div class="pt-3">
          <button 
            pButton 
            type="submit" 
            label="Sign Up" 
            class="w-full" 
            [disabled]="signUpForm.invalid || isLoading"
            [loading]="isLoading">
          </button>
        </div>
      </form>
    </div>
  </div>
</div>
